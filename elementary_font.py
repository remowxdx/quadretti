"""
Elementary font written following the squares.
"""


class ElementaryFont:
    """Elementary square-ly font."""

    font = {
        "a": (
            "0.95 -0.5 m 0 -0.45 -0.45 0 s -0.45 0 0 0.45 s 0 0.45 0.45 0 "
            "s 0.45 0 0 -0.45 s 0.15 0.5 l 0.9 0 m"
        ),
        "b": "0 -2 m 0 2 l 0 -0.8 m 1 -0.3 0 0.6 s 0 0.7 -1 -0.4 s 2 0.2 m",
        "c": (
            "1 -0.7 m 0 -0.2 -0.5 0 s -0.4 0 0 0.4 s 0 0.45 0.4 0 s "
            "0.5 0 0 -0.25 s 1 0.3 m"
        ),
        "d": "1 -2 m 0 2 l 0 -0.8 m -1 -0.3 0 0.6 0 0.7 1 -0.4 s 1 0.2 m",
        "e": (
            "0.05 -0.5 m 0.9 0 l 0 -0.45 -0.45 0 s -0.45 0 0 0.45 s 0 0.45 0.45 0 s "
            "0.45 0 0 -0.25 s 1.05 0.25 m"
        ),
        "f": (
            "0.95 -1.7 m 0 -0.25 -0.5 0 s -0.45 0 0 0.5 s 0 1.5 l "
            "-0.3 -1 m 0.6 0 l 1.7 1 m"
        ),
        "g": (
            "0.95 -0.5 m 0 -0.45 -0.45 0 s -0.45 0 0 0.45 s 0 0.45 0.45 0 s "
            "0.45 0 0 -0.45 s 0 0.8 l 0 0.45 -0.45 0 s -0.45 0 0 -0.45 s 1.95 -0.3 m"
        ),
        "h": "0 -2 m 0 2 l 0 -0.5 l 0 -0.45 0.5 0 s 0.45 0 0 0.45 s 0 0.5 l 1.05 0 m",
        "i": "0 -1 m 0 1 l 0 -2 m d 1 2 m",
        "j": "1 -1 m 0 1.3 l 0 0.45 -0.5 0 s -0.45 0 0 -0.4 s 0.95 -2.35 m d 1 2 m",
        "k": "0 -2 m 0 2 l 0 -0.5 m 0.95 -0.45 l -0.75 0.35 m 0.8 0.6 l 1 0 m",
        "l": "0 -2 m 0 2 l 1 0 m",
        "m": (
            "0 -1 m 0 1 l 0 -0.5 l 0 -0.45 0.5 0 s 0.5 0 0 0.45 s 0 0.5 l "
            "0 -0.5 l 0 -0.45 0.5 0 s 0.5 0 0 0.45 s 0 0.5 l 1 0 m"
        ),
        "n": "0 -1 m 0 1 l 0 -0.5 l 0 -0.45 0.5 0 s 0.45 0 0 0.45 s 0 0.5 l 1.05 0 m",
        "o": (
            "0.95 -0.5 m 0 -0.45 -0.45 0 s -0.45 0 0 0.45 s "
            "0 0.45 0.45 0 s 0.45 0 0 -0.45 s 1.05 0.5 m"
        ),
        "p": "0 -1 m 0 2 l 0 -1.8 m 1 -0.3 0 0.6 s 0 0.7 -1 -0.4 s 2 0.2 m",
        "q": "1 -1 m 0 2 l 0 -1.8 m -1 -0.3 0 0.6 s 0 0.7 1 -0.4 s 1 0.2 m",
        "r": "0 -1 m 0 1 l 0 -0.5 l 0 -0.45 0.5 0 s 0.45 0 0 0.35 s 1.05 0.6 m",
        "s": (
            "1 -0.95 m -0.5 0 l -0.45 0 0 0.2 s 0 0.25 0.45 0 s "
            "0.45 0 0 0.25 s 0 0.2 -0.45 0 s -0.5 0 l 2 0.05 m"
        ),
        "t": (
            "0 -2 m 0 1.5 l 0 0.45 0.5 0 s 0.45 0 0 -0.3 s "
            "-1.25 -0.65 m 0.6 0 l 1.7 1 m"
        ),
        "u": "0 -1 m 0 0.5 l 0 0.45 0.5 0 s 0.45 0 0 -0.45 s 0 -0.5 l 1.05 1 m",
        "v": "0 -1 m 0.5 1 l 0.5 -1 l 1 1 m",
        "w": "0 -1 m 0.33 1 l 0.34 -1 l -0.34 0 m 0.34 1 l 0.33 -1 l 1 1 m",
        "x": "0 -1 m 1 1 l 0 -1 m -1 1 l 2 0 m",
        "y": "1 -1 m -1 1.8 l 0 -1.8 m 0.4 1 l 1.6 0 m",
        "z": "0 -0.95 m 0.95 0 l -0.9 0.95 l 0.95 0 l 2 0 m",
        " ": "2 0 m",
        ".": "d 1 0 m",
        "A": "0.5 -2 l 0.5 2 l -0.75 -1 m 0.5 0 l 1.25 1 m",
        "B": "0 -2 l 1 0 0 1 -1 0 s 1 0 0 0.5 s 0 0.5 -1 0 s 2 0 m",
        "C": "1 -1.5 m 0 -0.7 -1.1 0 0.1 1.1 s 0 0.2 l -0.1 1.1 1.1 0 0 -0.7 s 1 0.5 m",
        "D": "0 -2 l 1 0 0.25 1.75 0.15 0.25 -1.4 0 s 2 0 m",
        "E": "1 -2 m -1 0 l 0 2 l 1 0 l -1 -1 m 0.5 0 l 1.5 1 m",
        "F": "1 -2 m -1 0 l 0 2 l 0 -1 m 0.5 0 l 1.5 1 m",
        "G": (
            "1 -1.5 m 0 -0.7 -1.1 0 0.1 1.1 s 0 0.2 l -0.1 1.1 1.1 0 0 -0.8 s "
            "0 -0.4 l -0.4 0 l 1.4 1 m"
        ),
        "H": "0 -2 m 0 2 l 1 -2 m 0 2 l -1 -1 m 1 0 l 1 1 m",
        "I": "0.5 -2 m 0 2 l -0.5 -2 m 1 0 l -1 2 m 1 0 l 1 0 m",
        "J": "0 -2 m 1 0 l 0 1 l 0 1.2 -1 0 0 -0.6 s 2 0.4 m",
        "K": "0 -2 m 0 2 l 0 -1 m 1 -1 l -0.8 0.8 m 0.8 1.2 l 1 0 m",
        "L": "0 -2 m 0 2 l 1 0 l 1 0 m",
        "M": "0 -2 m 0 2 l 0 -2 m 0.5 1 l 0.5 -1 l 0 2 l 1 0 m",
        "N": "0 -2 m 0 2 l 0 -2 m 1 2 l 0 -2 l 1 2 m",
        "O": "0.5 -2 m -0.5 0 0 1 s 0 1 0.5 0 s 0.5 0 0 -1 s 0 -1 -0.5 0 s 1.5 2 m",
        "P": "0 -2 l 1 0 0 0.5 s 0 0.5 -1 0 s 2 1 m",
        "Q": (
            "0.5 -2 m -0.5 0 0 1 s 0 1 0.5 0 s 0.5 0 0 -1 s 0 -1 -0.5 0 s "
            "0.15 1.65 m 0.6 0.6 l 0.75 -0.25 m"
        ),
        "R": "0 -2 l 1 0 0 0.5 s 0 0.5 -1 0 s 1 1 l 1 0 m",
        "S": (
            "1 -2 m -0.2 0 l -0.8 0 0 0.6 s 0 0.4 0.5 0 s 0.5 0 0 0.5 "
            "s 0 0.5 -0.5 0 s -0.5 0 l 2 0 m"
        ),
        "T": "0.5 -2 m 0 2 l -0.5 -2 m 1 0 l 1 2 m",
        "U": "0 -2 m 0 1 l 0 1 0.5 0 s 0.5 0 0 -1 s 0 -1 l 1 2 m",
        "V": "0 -2 m 0.5 2 l 0.5 -2 l 1 2 m",
        "W": "0 -2 m 0.25 2 l 0.25 -1 l 0.25 1 l 0.25 -2 l 1 2 m",
        "X": "0 -2 m 1 2 l 0 -2 m -1 2 l 2 0 m",
        "Y": "1 -2 m -1 2 l 0 -2 m 0.5 1 l 1.5 1 m",
        "Z": "0 -2 m 1 0 l -1 2 l 1 0 l 1 0 m",
        # "0": ("/k 0.3 v k 0.5 - 0 0 k - k 0 1 k - s"
        #       "0 1 k - k k 0.5 k - 0 s"
        #       "0.5 k - 0 k 0 k - 0 k 1 - s"
        #       "0 k 1 - 0 k - 0 k - k 0.5 - 0 s"
        #       "1.5 2 m"
        # ),
        "0": (
            "0.5 -2 m -0.2 0 -0.3 0.3 0 0.7 s 0 0.7 0.3 0.3 0.2 0 s "
            "0.2 0 0.3 -0.3 0 -0.7 s 0 -0.7 -0.3 -0.3 -0.2 0 s 1.5 2 m"
        ),
        "1": "0 -1 m 0.7 -0.3 0.3 -0.7 s 0 2 l 1 0 m",
        "2": (
            "0 -1.5 m 0 -0.5 0.5 0 s 0.5 0 0 0.5 s 0 0.25 -0.25 0 -0.15 0.25 s "
            "-0.6 1 l 1 0 l 1 0 m"
        ),
        "3": (
            "0 -2 m 0.5 0 l 0.5 0 0 0.5 s 0 0.5 -0.5 0 s "
            "0.5 0 0 0.5 s 0 0.5 -0.5 0 s -0.5 0 l 2 0 m"
        ),
        "4": "1 -2 m -1 2 l 1 0 l -0.3 -0.3 m 0 0.6 l 1.3 -0.3 m",
        "5": (
            "0 -2 m 0 1.1 l 0 -0.3 0.5 0 s 0.5 0 0 0.6 s 0 0.6 -0.5 0 s "
            "-0.5 0 0 -0.3 s 0 -1.7 m 1 0 l 1 2 m"
        ),
        "6": (
            "1 -2 m -1 1.3 l 0 0.7 0.5 0 s 0.5 0 0 -0.5 s "
            "0 -0.5 -0.5 0 s -0.5 0 0 0.5 s 2 0.5 m"
        ),
        "7": "0 -2 m 1 0 l -1 2 l 0.2 -1 m 0.6 0 l 1.2 1 m",
        "8": (
            "0.5 -1 m 0.5 0 0 -0.5 s 0 -0.5 -0.5 0 s -0.5 0 0 0.5 s 0 0.5 0.5 0 s"
            " 0.5 0 0 0.5 s 0 0.5 -0.5 0 s -0.5 0 0 -0.5 s 0 -0.5 0.5 0 s 1.5 1 m"
        ),
        "9": (
            "1 -1.5 m 0 -0.5 -0.5 0 s -0.5 0 0 0.5 s 0 0.5 0.5 0 s 0.5 0 0 -0.5 s "
            "0 1 l 0 0.5 -0.5 0 s -0.5 0 0 -0.5 s 2 0.5 m"
        ),
        "!": "0.5 -2 m 0 1.5 l 0 0.5 m d 1.5 0 m",
        "?": (
            "0 -1.5 m 0 -0.5 0.5 0 s 0.5 0 0 0.5 s 0 0.5 -0.25 0 s "
            "-0.25 0 0 0.5 s 0 0.5 m d 1.5 0 m"
        ),
        "+": "0 -1 m 1 0 l -0.5 -0.4 m 0 0.8 l 1.5 0.6 m",
        "-": "0 -1 m 1 0 l 1 1 m",
        "=": "0 -1 m 1 0 l -1 1 m 1 0 l 1 0 m",
        ",": "d 0.05 0.05 m -0.2 0.2 l 1.15 -0.25 m",
        "\n": "n",
        "\0": "0 -2 l 1 0 l 0 2 l -1 0 l 2 0 m",
    }

    # pylint: disable=too-many-arguments
    def __init__(self, mov, lin, spl, dot, newline):
        self.mov = mov
        self.lin = lin
        self.spl = spl
        self.dot = dot
        self.newline = newline

    def animate_char(self, t, character):
        """Draw animation of character at time t (0 ≤ t ≤ 1)."""
        raise NotImplementedError

    def char(self, character):
        """Draw character."""

        if character not in self.font:
            character = "\0"

        program = self.font[character].split(" ")
        stack = []
        for token in program:
            if token == "m":
                y = stack.pop()
                x = stack.pop()
                self.mov(x, y)
            elif token == "l":
                y = stack.pop()
                x = stack.pop()
                self.lin(x, y)
            elif token == "d":
                self.dot()
            elif token == "n":
                self.newline()
            elif token == "s":
                points = []
                while len(stack) > 0:
                    y = stack.pop()
                    x = stack.pop()
                    points.insert(0, (x, y))
                self.spl(points)
            else:
                value = float(token)
                stack.append(value)
